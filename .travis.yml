# TODO(travis-ci/travis-ci#8836): Remove once the travis issue is resolved.
sudo: required
addons:
  chrome: stable

# Created with https://github.com/dart-lang/mono_repo
language: dart

dart:
  - dev

env:
  - PKG=_goldens TASK=dartanalyzer
  - PKG=_goldens TASK=test
  - PKG=_goldens/generator TASK=dartanalyzer
  - PKG=_tests TASK=dartanalyzer_1
  - PKG=_tests TASK=test_1
  - PKG=_tests TASK=test_10
  - PKG=_tests TASK=test_2
  - PKG=_tests TASK=test_3
  - PKG=_tests TASK=test_4
  - PKG=_tests TASK=test_5
  - PKG=_tests TASK=test_6
  - PKG=_tests TASK=test_7
  - PKG=_tests TASK=test_8
  - PKG=_tests TASK=test_9
  - PKG=angular TASK=dartanalyzer
  - PKG=angular_ast TASK=dartanalyzer
  - PKG=angular_ast TASK=test
  - PKG=angular_compiler TASK=dartanalyzer
  - PKG=angular_compiler TASK=test
  - PKG=angular_forms TASK=dartanalyzer
  - PKG=angular_router TASK=dartanalyzer_1
  - PKG=angular_router TASK=test_11
  - PKG=angular_router TASK=test_13
  - PKG=angular_router/example TASK=dartanalyzer
  - PKG=angular_test TASK=dartanalyzer_1
  - PKG=angular_test TASK=test_11
  - PKG=angular_test TASK=test_12

script: ./tool/travis.sh

# Only building master means that we don't run two builds for each pull request.
branches:
  only: [master]

cache:
 directories:
   - $HOME/.pub-cache
   - _tests/.dart_tool
   - angular_router/.dart_tool
   - angular_test/.dart_tool
